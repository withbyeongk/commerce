# 서비스 설계 문서

- 목표
> 개발한 기능의 트랜잭션 범위에 대해 이해하고, 서비스의 규모가 확장되었을 때 서비스 분리와 그에 따른 트랜잭션 처리의 한계와 해결방안에 대해 알아보기

- 기본 개념
> ACID. 원자성, 일관성, 고립성, 영구성 조건이 충족되어야 한다.

## 현재 개발된 기능의 트랜잭션 범위 파악

### 회원 포인트 충전 서비스

```java
@Service
@RequiredArgsConstructor
public class MemberFacade implements MemberUsecase {

    private final MemberService memberService;
    
    ...
    
    @Override
    @DistributedLock(key = "#dto.memberId")
    public PointResponseDto chargePoint(ChargePointDto dto) {
        Point chargedPoint = memberService.chargePoint(dto);

        memberService.updatePoint(chargedPoint.getMemberId(), chargedPoint.getPoint());

        return chargedPoint.toResponseDto();
    }
}
```

- 이해를 돕기 위한 설명

- 로직 분석

---

## 서비스 규모 확장 시의 서비스 분리

> 서비스가 확장되면서 요구사항 및 로직의 복잡성이 커져 여러 마이크로서비스로 분할하는 것이 유리할 수 있다.   
> 그러나 서비스를 분리하면서 트랜잭션 처리가 복잡해질 수 있다.

### 서비스 분리 시 트랜잭션 처리의 한계




### 해결방안
